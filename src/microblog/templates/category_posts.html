{% extends 'base_template.html' %}
{% block title %}{{ category|title }} Posts - Microblog{% endblock %}
{% block content %}
<div class="container">
  <div class="category-header">
    <h1>{{ category|title }} Posts</h1>
    <p>All posts in the {{ category|title }} category</p>
    <a href="{{ url_for('index') }}" class="btn btn-outline">
      <i class="fas fa-arrow-left"></i> Back to Home
    </a>
  </div>

  {% if posts %}
    <div class="posts-grid">
      {% for post in posts %}
        <article class="post-card">
          <div class="post-header">
            <h3 class="post-title">
              <a href="{{ url_for('post_detail', slug=post.slug) }}">{{ post.title }}</a>
            </h3>
            <span class="post-category">{{ post.category|title }}</span>
          </div>
          
          {% if post.excerpt %}
            <div class="post-excerpt">
              <p>{{ post.excerpt }}</p>
            </div>
          {% endif %}
          
          <div class="post-meta">
            <div class="post-author">
              <i class="fas fa-user"></i>
              <a href="{{ url_for('user_posts', username=post.author.username) }}">
                {{ post.author.username }}
              </a>
            </div>
            <div class="post-date">
              <i class="fas fa-calendar"></i>
              {{ post.created_at.strftime('%B %d, %Y') }}
            </div>
          </div>
          
          <div class="post-actions">
            <a href="{{ url_for('post_detail', slug=post.slug) }}" class="btn btn-outline">
              Read More <i class="fas fa-arrow-right"></i>
            </a>
          </div>
        </article>
      {% endfor %}
    </div>
  {% else %}
    <div class="empty-state">
      <i class="fas fa-tag"></i>
      <h3>No posts in this category</h3>
      <p>There are no posts in the {{ category|title }} category yet.</p>
      {% if current_user.is_authenticated %}
        <a href="{{ url_for('create_post') }}" class="btn btn-primary">
          <i class="fas fa-plus"></i> Create a Post
        </a>
      {% endif %}
    </div>
  {% endif %}
</div>
{% endblock %}
